<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27787617-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>REST API: Clusters &mdash; Loom 0.9.5 Beta documentation</title>
    
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.5 Beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Loom 0.9.5 Beta documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Loom 0.9.5 Beta documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="rest-api-clusters">
<h1>REST API: Clusters<a class="headerlink" href="#rest-api-clusters" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="index.html"><em>REST Overview</em></a> |
<a class="reference internal" href="provider.html"><em>Providers</em></a> |
<a class="reference internal" href="hardware.html"><em>Hardware Types</em></a> |
<a class="reference internal" href="image.html"><em>Image Types</em></a> |
<a class="reference internal" href="services.html"><em>Services</em></a> |
<a class="reference internal" href="templates.html"><em>Cluster Template</em></a> |
<a class="reference internal" href="entities.html"><em>Importing &amp; Exporting</em></a> |
<a class="reference internal" href=""><em>Clusters</em></a> |
<a class="reference internal" href="tasks.html"><em>Tasks</em></a></p>
<p>Using the Loom REST API, users can create clusters, get cluster details, action plans, and delete clusters.</p>
<div class="section" id="create-a-cluster">
<h2>Create a Cluster<a class="headerlink" href="#create-a-cluster" title="Permalink to this headline">¶</a></h2>
<p>To create a new cluster, make a HTTP POST request to URI:</p>
<div class="highlight-python"><div class="highlight"><pre>/clusters
</pre></div>
</div>
<p>The request body must contain name, numMachines, and clusterTemplate.  Optionally, it can contain imagetype, hardwaretype, provider, services, and config.  If the user specifies any optional value, it will override the corresponding default value in the cluster template.</p>
<div class="section" id="post-parameters">
<h3>POST Parameters<a class="headerlink" href="#post-parameters" title="Permalink to this headline">¶</a></h3>
<p>Required Parameters</p>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>Specifies the name of the cluster. The assigned name must have only alphanumeric, dash(-), dot(.), and underscore(_) characters.</td>
</tr>
<tr class="row-odd"><td>description</td>
<td>Provides a description for cluster.</td>
</tr>
<tr class="row-even"><td>clusterTemplate</td>
<td>Specifies the name of the cluster template to use for cluster creation.</td>
</tr>
<tr class="row-odd"><td>numMachines</td>
<td>Specifies the number of machines to have in the cluster.</td>
</tr>
<tr class="row-even"><td>imagetype</td>
<td>Optional image type to use across the entire cluster.  Overrides default in the given cluster template.</td>
</tr>
<tr class="row-odd"><td>hardwaretype</td>
<td>Optional hardware type to use across the entire cluster.  Overrides default in the given cluster template.</td>
</tr>
<tr class="row-even"><td>provider</td>
<td>Optional provider to use to create nodes. Overrides default in the given cluster template.</td>
</tr>
<tr class="row-odd"><td>services</td>
<td>Optional array of services to place on the cluster.  Overrides default in the given cluster template.  Must be a subset of compatible services specified in cluster template.</td>
</tr>
<tr class="row-even"><td>config</td>
<td>Optional JSON Object to use during cluster creation.  Overrides default in the given cluster template.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="http-responses">
<h3>HTTP Responses<a class="headerlink" href="#http-responses" title="Permalink to this headline">¶</a></h3>
<p>The server will respond with the id of the cluster added.</p>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200 (OK)</td>
<td>Successfully created</td>
</tr>
<tr class="row-odd"><td>400 (BAD_REQUEST)</td>
<td>Bad request.  Missing name, clusterTemplate, or numMachines in the request body.</td>
</tr>
<tr class="row-even"><td>401 (UNAUTHORIZED)</td>
<td>If the user is unauthorized to make this request.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>curl -X POST
       -H <span class="s1">&#39;X-Loom-UserID:&lt;userid&gt;&#39;</span>
       -H <span class="s1">&#39;X-Loom-ApiKey:&lt;apikey&gt;&#39;</span>
       -d <span class="s1">&#39;{ &quot;name&quot;:&quot;hadoop-dev&quot;, &quot;description&quot;:&quot;my hadoop dev cluster&quot;, &quot;numMachines&quot;:&quot;5&quot;, &quot;clusterTemplate&quot;:&quot;hadoop.example&quot; }&#39;</span>
       http://&lt;loom-server&gt;:&lt;loom-port&gt;/&lt;version&gt;/loom/clusters
<span class="nv">$ </span><span class="o">{</span> <span class="s2">&quot;id&quot;</span>:<span class="s2">&quot;00000079&quot;</span> <span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-cluster-details">
<h2>Get Cluster Details<a class="headerlink" href="#get-cluster-details" title="Permalink to this headline">¶</a></h2>
<p>To retrieve full details about a cluster, make a GET HTTP request to URI:</p>
<div class="highlight-python"><div class="highlight"><pre>/clusters/{id}
</pre></div>
</div>
<p>The cluster is represented as a JSON object which contains an id, name, description, services, createTime, provider,
clusterTemplate, nodes, jobs, ownerId, and status.  The provider and clusterTemplate details are copied over
from the respective entities at cluster creation time.  This is so that future changes to a cluster template
do not affect clusters that were previously created by older versions of the template.  The status is one of
pending, active, incomplete, and terminated.  Jobs are ids of cluster action plans that are described in
the section about getting an action plan for a cluster.  The ownerId holds the owner of the cluster, the createTime
is a timestamp in milliseconds, and services is a list of services that are on the cluster. Finally, nodes is
an array of nodes that are in the cluster.  Each node is a JSON object with the id of the node, the clusterId,
an array of services on the node, properties of the node such as hostname and ipaddress, and an array of actions
that have been performed on the node.</p>
<div class="section" id="id1">
<h3>HTTP Responses<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200 (OK)</td>
<td>Successful</td>
</tr>
<tr class="row-odd"><td>401 (UNAUTHORIZED)</td>
<td>If the user is unauthorized to make this request.</td>
</tr>
<tr class="row-even"><td>404 (NOT FOUND)</td>
<td>If the resource requested is not configured and available in system.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>curl -H <span class="s1">&#39;X-Loom-UserID:&lt;userid&gt;&#39;</span>
       -H <span class="s1">&#39;X-Loom-ApiKey:&lt;apikey&gt;&#39;</span>
       http://&lt;loom-server&gt;:&lt;loom-port&gt;/&lt;version&gt;/loom/clusters/00000079
<span class="nv">$ </span><span class="o">{</span>
      <span class="s2">&quot;id&quot;</span>:<span class="s2">&quot;00000079&quot;</span>,
      <span class="s2">&quot;name&quot;</span>:<span class="s2">&quot;hadoop-dev&quot;</span>,
      <span class="s2">&quot;description&quot;</span>:<span class="s2">&quot;my hadoop dev cluster&quot;</span>,
      <span class="s2">&quot;createTime&quot;</span>: 1391756249454,
      <span class="s2">&quot;provider&quot;</span>: <span class="o">{</span> ... <span class="o">}</span>,
      <span class="s2">&quot;clusterTemplate&quot;</span>: <span class="o">{</span> ... <span class="o">}</span>,
      <span class="s2">&quot;services&quot;</span>: <span class="o">[</span> <span class="s2">&quot;hadoop-hdfs-namenode&quot;</span>, <span class="s2">&quot;hadoop-hdfs-datanode&quot;</span>, ... <span class="o">]</span>,
      <span class="s2">&quot;jobs&quot;</span>: <span class="o">[</span> <span class="s2">&quot;00000079-001&quot;</span>, <span class="s2">&quot;00000079-002&quot;</span> <span class="o">]</span>,
      <span class="s2">&quot;ownerId&quot;</span>: <span class="s2">&quot;user123&quot;</span>,
      <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;pending&quot;</span>,
      <span class="s2">&quot;nodes&quot;</span>: <span class="o">[</span>
          <span class="o">{</span>
              <span class="s2">&quot;id&quot;</span>: <span class="s2">&quot;ee6a7be9-aa81-4601-88eb-6b49d6ff7919&quot;</span>,
              <span class="s2">&quot;clusterId&quot;</span>: <span class="s2">&quot;00000079&quot;</span>,
              <span class="s2">&quot;services&quot;</span>: <span class="o">[</span> ... <span class="o">]</span>,
              <span class="s2">&quot;properties&quot;</span>: <span class="o">{</span>
                  <span class="s2">&quot;hardwaretype&quot;</span>: <span class="s2">&quot;medium&quot;</span>,
                  <span class="s2">&quot;flavor&quot;</span>: <span class="s2">&quot;5&quot;</span>,
                  <span class="s2">&quot;hostname&quot;</span>: <span class="s2">&quot;loom-beamer90-1003.local&quot;</span>,
                  <span class="s2">&quot;imagetype&quot;</span>: <span class="s2">&quot;centos6&quot;</span>,
                  <span class="s2">&quot;ipaddress&quot;</span>: <span class="s2">&quot;123.456.0.1&quot;</span>
              <span class="o">}</span>,
              <span class="s2">&quot;actions&quot;</span>: <span class="o">[</span>
                  <span class="o">{</span>
                      <span class="s2">&quot;service&quot;</span>: <span class="s2">&quot;&quot;</span>,
                      <span class="s2">&quot;action&quot;</span>: <span class="s2">&quot;CREATE&quot;</span>,
                      <span class="s2">&quot;submitTime&quot;</span>: 1391756252719,
                      <span class="s2">&quot;statusTime&quot;</span>: 1391756254791,
                      <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;complete&quot;</span>
                  <span class="o">}</span>,
                  <span class="o">{</span>
                      <span class="s2">&quot;service&quot;</span>: <span class="s2">&quot;&quot;</span>,
                      <span class="s2">&quot;action&quot;</span>: <span class="s2">&quot;CONFIRM&quot;</span>,
                      <span class="s2">&quot;submitTime&quot;</span>: 1391756265710,
                      <span class="s2">&quot;statusTime&quot;</span>: 1391756362476,
                      <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;complete&quot;</span>
                  <span class="o">}</span>,
                  ...
              <span class="o">]</span>
          <span class="o">}</span>,
          ...
      <span class="o">]</span>
  <span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-a-cluster">
<h2>Delete a Cluster<a class="headerlink" href="#delete-a-cluster" title="Permalink to this headline">¶</a></h2>
<p>To delete a cluster, make a DELETE HTTP request to URI:</p>
<div class="highlight-python"><div class="highlight"><pre>/clusters/{id}
</pre></div>
</div>
<p>This resource request represents an individual cluster for deletion.</p>
<div class="section" id="id3">
<h3>HTTP Responses<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200 (OK)</td>
<td>If delete was successful</td>
</tr>
<tr class="row-odd"><td>401 (UNAUTHORIZED)</td>
<td>If the user is unauthorized to make this request.</td>
</tr>
<tr class="row-even"><td>404 (NOT FOUND)</td>
<td>If the resource requested is not found.</td>
</tr>
<tr class="row-odd"><td>409 (CONFLICT)</td>
<td>If the cluster is in the process of performing some other action.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h3>Example<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>curl -X DELETE
       -H <span class="s1">&#39;X-Loom-UserID:&lt;userid&gt;&#39;</span>
       -H <span class="s1">&#39;X-Loom-ApiKey:&lt;apikey&gt;&#39;</span>
       http://&lt;loom-server&gt;:&lt;loom-port&gt;/&lt;version&gt;/loom/clusters/00000079
</pre></div>
</div>
</div>
</div>
<div class="section" id="id5">
<h2>Cluster Status<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>To get the status of a cluster, make a GET HTTP request to URI:</p>
<div class="highlight-python"><div class="highlight"><pre>/clusters/{id}/status
</pre></div>
</div>
<p>Status of a cluster is a JSON object with a clusterid, stepstotal, stepscompleted,
status, actionstatus, and action.</p>
<p>The status can be one of PENDING, ACTIVE, INCOMPLETE,
and TERMINATED.  PENDING means there is some actions pending, ACTIVE means the cluster
is active and can be used, INCOMPLETE means there was some previous action failure so
the cluster may not be usable, but is deletable, and TERMINATED means the cluster is
inaccessible and all nodes have been removed.</p>
<p>The action represents the different types of actions that can be performed on a cluster.  As
of today, it is one of SOLVE_LAYOUT, CLUSTER_CREATE, and CLUSTER_DELETE. The actionstatus
describes the status of the action being performed on the cluster, and is one of
NOT_SUBMITTED, RUNNING, COMPLETE, and FAILED.</p>
<p>In addition to the standard REST endpoints, Loom also provides a RPC function to obtain
the statuses of all clusters belonging to the active user. To get the statuses of the
clusters, make a POST HTTP request to URI:</p>
<div class="highlight-python"><div class="highlight"><pre>/getClusterStatuses
</pre></div>
</div>
<div class="section" id="id6">
<h3>HTTP Responses<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200 (OK)</td>
<td>If update was successful</td>
</tr>
<tr class="row-odd"><td>401 (UNAUTHORIZED)</td>
<td>If the user is unauthorized to make this request.</td>
</tr>
<tr class="row-even"><td>404 (NOT FOUND)</td>
<td>If the resource requested is not found.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id7">
<h3>Example<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>curl -H <span class="s1">&#39;X-Loom-UserID:admin&#39;</span>
       -H <span class="s1">&#39;X-Loom-ApiKey:&lt;apikey&gt;&#39;</span>
       http://&lt;loom-server&gt;:&lt;loom-port&gt;/&lt;version&gt;/loom/clusters/00000079/status
<span class="nv">$ </span><span class="o">{</span>
      <span class="s2">&quot;clusterid&quot;</span>:<span class="s2">&quot;00000079&quot;</span>,
      <span class="s2">&quot;stepstotal&quot;</span>:109,
      <span class="s2">&quot;stepscompleted&quot;</span>:8,
      <span class="s2">&quot;status&quot;</span>:<span class="s2">&quot;PENDING&quot;</span>,
      <span class="s2">&quot;actionStatus&quot;</span>:<span class="s2">&quot;RUNNING&quot;</span>,
      <span class="s2">&quot;action&quot;</span>:<span class="s2">&quot;CLUSTER_CREATE&quot;</span>
  <span class="o">}</span>

<span class="nv">$ </span>curl -X POST
       -H <span class="s1">&#39;X-Loom-UserID:&lt;userid&gt;&#39;</span>
       -H <span class="s1">&#39;X-Loom-ApiKey:&lt;apikey&gt;&#39;</span>
       http://&lt;loom-server&gt;:&lt;loom-port&gt;/&lt;version&gt;/loom/getClusterStatuses
<span class="nv">$ </span><span class="o">[</span>
      <span class="o">{</span>
          <span class="s2">&quot;action&quot;</span>: <span class="s2">&quot;CLUSTER_DELETE&quot;</span>,
          <span class="s2">&quot;actionstatus&quot;</span>: <span class="s2">&quot;COMPLETE&quot;</span>,
          <span class="s2">&quot;clusterid&quot;</span>: <span class="s2">&quot;00000051&quot;</span>,
          <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;TERMINATED&quot;</span>,
          <span class="s2">&quot;stepscompleted&quot;</span>: 3,
          <span class="s2">&quot;stepstotal&quot;</span>: 3
      <span class="o">}</span>,
      <span class="o">{</span>
          <span class="s2">&quot;action&quot;</span>: <span class="s2">&quot;CLUSTER_DELETE&quot;</span>,
          <span class="s2">&quot;actionstatus&quot;</span>: <span class="s2">&quot;COMPLETE&quot;</span>,
          <span class="s2">&quot;clusterid&quot;</span>: <span class="s2">&quot;00000021&quot;</span>,
          <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;TERMINATED&quot;</span>,
          <span class="s2">&quot;stepscompleted&quot;</span>: 4,
          <span class="s2">&quot;stepstotal&quot;</span>: 4
      <span class="o">}</span>
  <span class="o">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-an-action-plan-for-a-cluster">
<h2>Get an Action Plan for a Cluster<a class="headerlink" href="#get-an-action-plan-for-a-cluster" title="Permalink to this headline">¶</a></h2>
<p>To get the plan for a cluster action, make a GET HTTP request to URI:</p>
<div class="highlight-python"><div class="highlight"><pre>/clusters/{cluster-id}/plans/{plan-id}
</pre></div>
</div>
<p>A cluster action plan lists out the tasks that must be performed in order
to complete the cluster action.  A plan is broken up into stages, where each
task in a stage must be completed before the plan is allowed to proceed to
the next stage.  A stage is an array of tasks.
Each task consists of an id, taskName, nodeId, and optionally
a service.  In short, tasks describe an action that needs to occure on a specific
node in the cluster.  The taskName describe the type of task it is, and is one of
CREATE, CONFIRM, BOOTSTRAP, INSTALL, CONFIGURE, INITIALIZE, START, and STOP.  The
nodeId specifies which node in the cluster the task needs to run on, and the service
specifies which service the task is for.</p>
<div class="section" id="id8">
<h3>HTTP Responses<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200 (OK)</td>
<td>Successful</td>
</tr>
<tr class="row-odd"><td>400 (BAD REQUEST)</td>
<td>If the resource uri is specified incorrectly.</td>
</tr>
<tr class="row-even"><td>401 (UNAUTHORIZED)</td>
<td>If the user is unauthorized to make this request.</td>
</tr>
<tr class="row-odd"><td>404 (NOT FOUND)</td>
<td>If the resource requested is not found.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id9">
<h3>Example<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>curl -H <span class="s1">&#39;X-Loom-UserID:admin&#39;</span>
       -H <span class="s1">&#39;X-Loom-ApiKey:&lt;apikey&gt;&#39;</span>
       http://&lt;loom-server&gt;:&lt;loom-port&gt;/&lt;version&gt;/loom/clusters/00000079/plans/00000079-001
<span class="nv">$ </span><span class="o">{</span>
     <span class="s2">&quot;id&quot;</span>:<span class="s2">&quot;1&quot;</span>,
     <span class="s2">&quot;clusterId&quot;</span>:<span class="s2">&quot;2&quot;</span>,
     <span class="s2">&quot;action&quot;</span>:<span class="s2">&quot;CLUSTER_CREATE&quot;</span>,
     <span class="s2">&quot;currentStage&quot;</span>:0,
     <span class="s2">&quot;stages&quot;</span>:<span class="o">[</span>
         <span class="o">[</span>
             <span class="o">{</span>
                 <span class="s2">&quot;id&quot;</span>:<span class="s2">&quot;3&quot;</span>,
                 <span class="s2">&quot;taskName&quot;</span>:<span class="s2">&quot;CREATE&quot;</span>,
                 <span class="s2">&quot;nodeId&quot;</span>:<span class="s2">&quot;4&quot;</span>,
                 <span class="s2">&quot;service&quot;</span>:<span class="s2">&quot;&quot;</span>
             <span class="o">}</span>
         <span class="o">]</span>,
         <span class="o">[</span>
             <span class="o">{</span>
                 <span class="s2">&quot;id&quot;</span>:<span class="s2">&quot;5&quot;</span>,
                 <span class="s2">&quot;taskName&quot;</span>:<span class="s2">&quot;CONFIRM&quot;</span>,
                 <span class="s2">&quot;nodeId&quot;</span>:<span class="s2">&quot;6&quot;</span>,
                 <span class="s2">&quot;service&quot;</span>:<span class="s2">&quot;&quot;</span>
             <span class="o">}</span>
         <span class="o">]</span>,
         <span class="o">[</span>
             <span class="o">{</span>
                 <span class="s2">&quot;id&quot;</span>:<span class="s2">&quot;7&quot;</span>,
                 <span class="s2">&quot;taskName&quot;</span>:<span class="s2">&quot;BOOTSTRAP&quot;</span>,
                 <span class="s2">&quot;nodeId&quot;</span>:<span class="s2">&quot;8&quot;</span>,
                 <span class="s2">&quot;service&quot;</span>:<span class="s2">&quot;&quot;</span>
              <span class="o">}</span>
         <span class="o">]</span>,
         ...
    <span class="o">]</span>
 <span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="get-all-action-plans-for-a-cluster">
<h2>Get all Action Plans for a Cluster<a class="headerlink" href="#get-all-action-plans-for-a-cluster" title="Permalink to this headline">¶</a></h2>
<p>It is also possible to get all action plans for a cluster for actions
that have been performed or are being performed on a cluster.</p>
<p>To get all the action plans for a cluster, make a GET HTTP request to URI:</p>
<div class="highlight-python"><div class="highlight"><pre>/clusters/{cluster-id}/plans
</pre></div>
</div>
<div class="section" id="id10">
<h3>HTTP Responses<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Status Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>200 (OK)</td>
<td>Successful</td>
</tr>
<tr class="row-odd"><td>400 (BAD REQUEST)</td>
<td>If the resource uri is specified incorrectly.</td>
</tr>
<tr class="row-even"><td>401 (UNAUTHORIZED)</td>
<td>If the user is unauthorized to make this request.</td>
</tr>
<tr class="row-odd"><td>404 (NOT FOUND)</td>
<td>If the resource requested is not found.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id11">
<h3>Example<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>curl -H <span class="s1">&#39;X-Loom-UserID:admin&#39;</span>
       -H <span class="s1">&#39;X-Loom-ApiKey:&lt;apikey&gt;&#39;</span>
       http://&lt;loom-server&gt;:&lt;loom-port&gt;/&lt;version&gt;/loom/clusters/00000079/plans
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/quickstart/index.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/admin/index.html">Administration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/glossary.html">Glossary</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Loom 0.9.5 Beta documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Continuuity Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>