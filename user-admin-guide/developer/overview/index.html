<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27787617-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Architecture &mdash; Loom 0.9.5 Beta documentation</title>
    
    <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.9.5 Beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Loom 0.9.5 Beta documentation" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../../index.html">Loom 0.9.5 Beta documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="architecture">
<span id="index-toplevel"></span><span id="index-0"></span><h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<span id="id1"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Before moving on, it is necessary to define some terminology that will be used throughout the remainder of the document.</p>
<p>A <strong>node</strong> is a machine, real or virtual, that consists of a service or collection of services running on hardware, where
a service is some piece of software.</p>
<p>A <strong>cluster</strong> is a collection of nodes.  Typically, nodes in a cluster can communicate
with one another to provide some functionality that each individual node is unable to fully provide.  An example of a cluster
is a collection of nodes that work together to provide a distributed file system like Hadoop HDFS.</p>
<p>A <strong>cluster management operation</strong> is an action that is performed on a cluster, affecting some or all of the nodes in the cluster.
Some examples are creating, deleting, shrinking, expanding, upgrading, rollback, configuring, starting, and stopping a cluster.
Cluster level operations typically involve many node level tasks. For example, configuring a cluster usually requires configuring
services on each node in the cluster, and may also involve stop and starting those services in a particular order.</p>
<p>A <strong>task</strong> is an action that is performed on a node.  Some examples are creation and deletion of the node, and the installation,
initialization, configuration, start, stop, or removal of a service on the node.</p>
<p>Loom is a system allows users to manage cluster as single entity; users no longer have to know about nodes.
Loom consists of two major components: the <strong>server</strong> and the <strong>provisioner</strong>.  The server is responsible for determining what needs to be
done for different cluster management operations.  It breaks down cluster level operations into node level tasks, coordinating
which tasks should be performed at what time.  It also stores the state of all provisioned clusters as well as a history of all
operations performed.  The server does not perform any of the tasks, but places tasks onto a queue for the provisioners to
execute.  Provisioners are responsible for actually executing the tasks on the desired node, reporting back to the server
success or failure of its given task.  An architectural overview is shown in the figure below.</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="../../_images/Loom-Architecture.png"><img alt="Loom Architecture" src="../../_images/Loom-Architecture.png" style="width: 800px;" /></a>
</div>
<p>We now give an overview of each component before going into their details.</p>
</div>
<div class="section" id="server">
<h2>Server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h2>
<p>The Loom server performs several separate, but related roles.  The first role is to interact with administrators to define providers,
hardware, images, services, and templates that can be used for cluster management purposes. These definitions are persistently
stored, as illustrated in the figure by the Admin APIs box and Store. The second role is to create plans to perform cluster management
operations. Users make cluster management operation requests through the User APIs, which are then sent to the Solver and Planner to
transform the cluster level operation into a plan of node level tasks.
The final role is to interact with provisioners to coordinate the execution of those node level tasks.  In the figure, this role
is performed through the Provisioner APIs box, Task Queue, and Janitor.</p>
</div>
<div class="section" id="provisioner">
<h2>Provisioner<a class="headerlink" href="#provisioner" title="Permalink to this headline">¶</a></h2>
<p>Provisioners are responsible for taking tasks from the server, executing the task, and reporting back to the server whether or not the
task was successfully performed. Provisioners perform tasks by using the provider or automator plugin specified in the task.  Provider plugins
are used to allocate, delete, and manage machines using different infrastructure providers such as OpenStack, Rackspace, Amazon Web Services,
Google App Engine, and Joyent. Automator plugins are responsible for implementing the various services defined on a cluster.  For example, a
Chef automator plugin could be used to invoke Chef recipes that install, configure, initialize, start or stop your application.  Various plugins may be
implemented to support desired technologies, such as a Puppet plugin, or even shell commands.
Provisioners are not directly installed on the target host, but rather use SSHD to interact with the remote host, making Loom&#8217;s architecture
simple and secure. Since multiple provisioners can work concurrently, this layer of provisioners support execution of thousands of concurrent
tasks.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/quickstart/index.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/admin/index.html">Administration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rest/index.html">Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/glossary.html">Glossary</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../../index.html">Loom 0.9.5 Beta documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Continuuity Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>