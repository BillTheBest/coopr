<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-55081520-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Provisioner Configuration &mdash; Coopr 0.9.8 Beta Documentation</title>
    
    <link rel="stylesheet" href="../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.8 Beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Coopr 0.9.8 Beta Documentation" href="../index.html" />
    <link rel="up" title="Installation Guide" href="index.html" />
    <link rel="next" title="Coopr Sandboxes" href="standalone.html" />
    <link rel="prev" title="Server Configuration" href="server-config.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="standalone.html" title="Coopr Sandboxes"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="server-config.html" title="Server Configuration"
             accesskey="P">Previous</a> |</li>
        <li><a href="../index.html">Coopr 0.9.8 Beta Documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Installation Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="provisioner-configuration">
<span id="index-0"></span><h1>Provisioner Configuration<a class="headerlink" href="#provisioner-configuration" title="Permalink to this headline">¶</a></h1>
<p>The Provisioner is a running process that manages workers and plugin resources. Workers are separate
processes that perform individual tasks for a specific tenant. Plugin resources are files or archives
that may be used to execute tasks. Chef cookbooks are examples of plugin resources. Each provisioner
has a capacity, which is the maximum number of workers it can manage. When configuring capacity for
your provisioner, assume each worker takes 256mb of memory. CPU usage is negligible. The provisioner
periodically sends a heartbeat to the server to tell the system it is alive. Live provisioners may
get requests from the server to add or remove workers for different tenants.</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Shown below is an example configuration with settings that you are most likely to change.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="o">&lt;</span><span class="n">configuration</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">provisioner</span><span class="o">.</span><span class="na">capacity</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="mi">10</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span><span class="n">Max</span> <span class="n">number</span> <span class="n">of</span> <span class="n">running</span> <span class="n">workers</span> <span class="k">for</span> <span class="k">this</span> <span class="n">provisioner</span><span class="o">&lt;/</span><span class="n">description</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">provisioner</span><span class="o">.</span><span class="na">server</span><span class="o">.</span><span class="na">uri</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="nl">http:</span><span class="c1">//localhost:55054&lt;/value&gt;</span>
    <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span><span class="n">URI</span> <span class="n">of</span> <span class="n">server</span> <span class="n">to</span> <span class="n">connect</span> <span class="n">to</span><span class="o">&lt;/</span><span class="n">description</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">provisioner</span><span class="o">.</span><span class="na">data</span><span class="o">.</span><span class="na">dir</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;/</span><span class="n">var</span><span class="o">/</span><span class="n">coopr</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">provisioner</span><span class="o">/</span><span class="n">data</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span><span class="n">Provisioner</span> <span class="n">storage</span> <span class="n">directory</span> <span class="k">for</span> <span class="n">plugin</span> <span class="n">data</span> <span class="n">resources</span><span class="o">&lt;/</span><span class="n">description</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">provisioner</span><span class="o">.</span><span class="na">work</span><span class="o">.</span><span class="na">dir</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;/</span><span class="n">var</span><span class="o">/</span><span class="n">coopr</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">provisioner</span><span class="o">/</span><span class="n">work</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span><span class="n">Provisioner</span> <span class="n">working</span> <span class="n">directory</span><span class="o">&lt;/</span><span class="n">description</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">property</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">configuration</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>A full list of available configuration settings and their default values are given below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Config setting</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>provisioner.server.uri</td>
<td><a class="reference external" href="http://localhost:55054">http://localhost:55054</a></td>
<td>URI of server to connect to.</td>
</tr>
<tr class="row-odd"><td>provisioner.bind.ip</td>
<td>0.0.0.0</td>
<td>Local IP provisioner should listen on.</td>
</tr>
<tr class="row-even"><td>provisioner.bind.port</td>
<td>55056</td>
<td>Local Port provisioner should listen on.</td>
</tr>
<tr class="row-odd"><td>provisioner.register.ip</td>
<td>&nbsp;</td>
<td>Routable IP for the server to call back to this provisioner&#8217;s API. If left empty, the provisioner will attempt to auto-detect.</td>
</tr>
<tr class="row-even"><td>provisioner.data.dir</td>
<td>/var/coopr/data/provisioner/data</td>
<td>Provisioner storage directory for plugin data resources</td>
</tr>
<tr class="row-odd"><td>provisioner.work.dir</td>
<td>/var/coopr/data/provisioner/work</td>
<td>Provisioner working directory</td>
</tr>
<tr class="row-even"><td>provisioner.capacity</td>
<td>10</td>
<td>Max number of running workers for this provisioner. Assume each worker takes 256mb of memory.</td>
</tr>
<tr class="row-odd"><td>provisioner.heartbeat.interval</td>
<td>10</td>
<td>Interval in seconds to send heartbeat to server</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!--
  ~ Copyright 2014 Cask Data, Inc.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not
  ~ use this file except in compliance with the License. You may obtain a copy of
  ~ the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  ~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing permissions and limitations under
  ~ the License.
  -->

<h3><a href="../index.html">Table of Contents</a></h3>
<nav>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/quickstart/index.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="packages.html">Coopr Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="server-config.html">Server Configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Provisioner Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="standalone.html">Coopr Sandboxes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guide/superadmin/index.html">Super Admin Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/admin/index.html">Administration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide/user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest/index.html">Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../implementation.html">Under the Hood</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javadocs/index.html">Javadocs</a></li>
</ul>

</nav>
  <h4>Previous Topic</h4>
  <p class="topless"><a href="server-config.html"
                        title="Previous Chapter">Server Configuration</a></p>
  <h4>Next Topic</h4>
  <p class="topless"><a href="standalone.html"
                        title="Next Chapter">Coopr Sandboxes</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick Search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >Index</a></li>
        <li class="right" >
          <a href="standalone.html" title="Coopr Sandboxes"
             >Next</a> |</li>
        <li class="right" >
          <a href="server-config.html" title="Server Configuration"
             >Previous</a> |</li>
        <li><a href="../index.html">Coopr 0.9.8 Beta Documentation</a> &raquo;</li>
          <li><a href="index.html" >Installation Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        Copyright &copy; 2014 Cask Data, Inc.
    </div>
  </body>
</html>