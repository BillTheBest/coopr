<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-55081520-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Hot-Hot : Synchronous Database Cluster &mdash; Coopr 0.9.8 Beta Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.9.8 Beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Coopr 0.9.8 Beta Documentation" href="../../../index.html" />
    <link rel="up" title="Multi-Datacenter High Availability" href="../multi-data-center-bcp.html" />
    <link rel="next" title="Hot-Hot : With Custom Replication" href="../option4/index.html" />
    <link rel="prev" title="Multi-Datacenter High Availability" href="../multi-data-center-bcp.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="../option4/index.html" title="Hot-Hot : With Custom Replication"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="../multi-data-center-bcp.html" title="Multi-Datacenter High Availability"
             accesskey="P">Previous</a> |</li>
        <li><a href="../../../index.html">Coopr 0.9.8 Beta Documentation</a> &raquo;</li>
          <li><a href="../../superadmin/index.html" >Super Admin Guide</a> &raquo;</li>
          <li><a href="../index.html" >Business Continuity Plan (BCP)</a> &raquo;</li>
          <li><a href="../multi-data-center-bcp.html" accesskey="U">Multi-Datacenter High Availability</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="overview-multi-data-center-high-availability"></span><div class="section" id="hot-hot-synchronous-database-cluster">
<span id="index-0"></span><h1>Hot-Hot : Synchronous Database Cluster<a class="headerlink" href="#hot-hot-synchronous-database-cluster" title="Permalink to this headline">¶</a></h1>
<div class="align-center figure" id="synchronous-repl">
<img alt="Synchronous Database Architecture Diagram" src="../../../_images/ha_synchronous_repl.png" />
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Among all Coopr components, database is the only component that stores persistent state information. Any HA configuration that runs redundant Coopr services across datacenters will have to make sure that the services in all datacenters have a consistent view of this data. One way of achieving this consistency is to share a single database cluster across all datacenters as discussed below.</p>
<p>In this configuration a database cluster with synchronous replication is shared across all datacenters. Coopr Servers in each datacenter will connect to the local instance of the database cluster. All other components are configured as mentioned in <a class="reference internal" href="../data-center-bcp.html"><em>Datacenter High Availability</em></a> section.</p>
<p>An advantage of this approach is that Coopr Servers in all datacenters have the same view of data at all times. Hence, users in all datacenters will get to see the same state for all clusters at all times.</p>
</div>
<div class="section" id="failover">
<h2>Failover<a class="headerlink" href="#failover" title="Permalink to this headline">¶</a></h2>
<p>When a datacenter fails in this setup, the data of the failed datacenter is still available in other datacenters due to synchronous replication.
Hence Coopr Servers in other datacenters should be able to handle user traffic from the failed datacenter.</p>
<p>However, any transaction that was in progress when the datacenter failed will be lost as it was not committed.
Also, any jobs that were in progress in the failed datacenter will not make any progress when the datacenter goes down.</p>
<p>User traffic from the failed datacenter will be re-routed to other datacenters automatically by the load balancer.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!--
  ~ Copyright 2014 Cask Data, Inc.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not
  ~ use this file except in compliance with the License. You may obtain a copy of
  ~ the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  ~ WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing permissions and limitations under
  ~ the License.
  -->

<h3><a href="../../../index.html">Table of Contents</a></h3>
<nav>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../superadmin/index.html">Super Admin Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../superadmin/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../superadmin/tenants.html">Tenant Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../superadmin/callbacks.html">Cluster Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../superadmin/plugins.html">Provisioner Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../superadmin/monitoring.html">Monitoring and Metrics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Business Continuity Plan (BCP)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../data-center-bcp.html">Datacenter High Availability</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../multi-data-center-bcp.html">Multi-Datacenter High Availability</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="">Hot-Hot : Synchronous Database Cluster</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l5"><a class="reference internal" href="#failover">Failover</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../option4/index.html">Hot-Hot : With Custom Replication</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/index.html">Administration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rest/index.html">Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../implementation.html">Under the Hood</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../overview/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../javadocs/index.html">Javadocs</a></li>
</ul>

</nav>
  <h4>Previous Topic</h4>
  <p class="topless"><a href="../multi-data-center-bcp.html"
                        title="Previous Chapter">Multi-Datacenter High Availability</a></p>
  <h4>Next Topic</h4>
  <p class="topless"><a href="../option4/index.html"
                        title="Next Chapter">Hot-Hot : With Custom Replication</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick Search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >Index</a></li>
        <li class="right" >
          <a href="../option4/index.html" title="Hot-Hot : With Custom Replication"
             >Next</a> |</li>
        <li class="right" >
          <a href="../multi-data-center-bcp.html" title="Multi-Datacenter High Availability"
             >Previous</a> |</li>
        <li><a href="../../../index.html">Coopr 0.9.8 Beta Documentation</a> &raquo;</li>
          <li><a href="../../superadmin/index.html" >Super Admin Guide</a> &raquo;</li>
          <li><a href="../index.html" >Business Continuity Plan (BCP)</a> &raquo;</li>
          <li><a href="../multi-data-center-bcp.html" >Multi-Datacenter High Availability</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        Copyright &copy; 2014 Cask Data, Inc.
    </div>
  </body>
</html>