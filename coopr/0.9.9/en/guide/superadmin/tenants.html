<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-55081520-3']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Tenant Management &mdash; Coopr 0.9.9 Documentation</title>
    
    <link rel="stylesheet" href="../../_static/cdap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    



    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.9.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="top" title="Coopr 0.9.9 Documentation" href="../../index.html" />
    <link rel="up" title="Super Admin Guide" href="index.html" />
    <link rel="next" title="Cluster Callbacks" href="callbacks.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="callbacks.html" title="Cluster Callbacks"
             accesskey="N">Next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Overview"
             accesskey="P">Previous</a> |</li>
        
        <script type="text/javascript" src="../../_static/version-menu.js"></script>
        <script src="http://docs.cask.co/coopr/json-versions.js"/></script>
        <script>window.setVersion('0.9.9');</script>
       
        <li><a href="../../index.html">Coopr Documentation v0.9.9</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Super Admin Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="guide-superadmin-toplevel"></span><div class="section" id="tenant-management">
<span id="index-0"></span><h1>Tenant Management<a class="headerlink" href="#tenant-management" title="Permalink to this headline">¶</a></h1>
<p>The superadmin can create, edit, and delete tenants. The superadmin is also an admin of
its own superadmin tenant, meaning the superadmin can create, edit, and delete providers,
services, hardware types, image types, cluster templates, and plugin resources for its own
tenant. This also means the superadmin can create clusters. Tenants are completely
isolated from other tenants, meaning admins and users in one tenant cannot access objects
from another tenant. As a superadmin, you may see an overview of all tenants by clicking
on the Admin button in the upper-right of the page to bring down the Admin profile menu.
Select the &#8216;Tenants&#8217; item from the menu:</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="../../_images/sa_profile.png"><img alt="Profile menu" src="../../_images/sa_profile.png" style="width: 800px;" /></a>
</div>
<p>This takes you to the &#8216;Tenant List&#8217; Overview page:</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="../../_images/sa_overview.png"><img alt="Tenants overview page" src="../../_images/sa_overview.png" style="width: 800px;" /></a>
</div>
<p>This page displays the total number of workers in the system, the total number of available workers, and the total number of tasks
that are in progress and queued. Each tenant is assigned a number of workers to perform cluster tasks. Once a worker is assigned to
a tenant, it is no longer available and will only perform tasks for that tenant. Thus, when adding workers to a tenant,
or when creating a new tenant, the number of workers added must not exceed the number of available workers in the system.
If your system does not have enough workers to meet your needs, you will need to add provisioners. The number of workers assigned
to a tenant is exactly equal to the number of tasks that can be executed in parallel for the tenant. Tenants with a lot of activity
will require more workers.</p>
<p>The number of in-progress tasks is the number of tasks that are currently being executed by a worker in some tenant. The number of
queue tasks are tasks that are queued, but are not currently being executed. If your queued tasks are consistently high, it is a
sign that there is at least one tenant that does not have enough workers. These numbers can be broken down for each tenant by using the
<a class="reference internal" href="../../rest/tenants.html"><em>Tenant APIs</em></a> and <a class="reference internal" href="../../rest/provisioners.html"><em>Provisioner APIs</em></a>.</p>
<div class="section" id="creating-a-tenant">
<h2>Creating a Tenant<a class="headerlink" href="#creating-a-tenant" title="Permalink to this headline">¶</a></h2>
<p>To create a tenant, click on the &#8216;Create&#8217; button near the top right of the tenants overview screen. This takes you to the
tenant creation page where you can assign workers to the new tenant and set limits on the number of clusters and nodes allowed
in the tenant.</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="../../_images/sa_tenant_create.png"><img alt="Tenant creation page" src="../../_images/sa_tenant_create.png" style="width: 800px;" /></a>
</div>
<p>You cannot assign more workers to the tenant than the number of available workers. When creating a tenant, it will be
completely empty, and the tenant admin will need to populate all entities before it can be used to create any clusters.</p>
<p><strong>Note:</strong> If you <a class="reference internal" href="../../rest/tenants.html#tenants-create"><span>create a tenant using the REST API</span></a>, you can
optionally &#8216;bootstrap&#8217; the tenant. Bootstrapping a tenant copies all providers, hardware
types, image types, services, cluster templates, and plugin resources from the superadmin
tenant to the newly created tenant. Be aware that bootstrapping copies all plugin
resources, meaning any provider keys that have been uploaded to the superadmin tenant will
be copied to the new tenant.</p>
<p>If a user in the tenant tries to create a cluster that would cause the max clusters or
max nodes limit to be violated, that create request will fail.</p>
<p>Once you are done, hit the &#8216;Create&#8217; button to create the tenant. This will take you back to the overview page, where you should
notice that the number of available workers has decreased in response to assigning workers to the new tenant.</p>
</div>
<div class="section" id="edit-a-tenant">
<h2>Edit a Tenant<a class="headerlink" href="#edit-a-tenant" title="Permalink to this headline">¶</a></h2>
<p>You can edit a tenant by clicking on the name of the tenant on the overview page.</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="../../_images/sa_tenant_edit.png"><img alt="Tenant edit page" src="../../_images/sa_tenant_edit.png" style="width: 800px;" /></a>
</div>
<p>If the superadmin attempts to decrease the max clusters or nodes below
the current number of clusters or nodes in a tenant, the operation will fail. Similarly, if you try to give the
tenant more workers than are available, the operation will fail.</p>
</div>
<div class="section" id="deleting-a-tenant">
<h2>Deleting a Tenant<a class="headerlink" href="#deleting-a-tenant" title="Permalink to this headline">¶</a></h2>
<p>A superadmin may delete a tenant by clicking on the trash icon on the tenant overview page. Deleting a tenant is only allowed if the
number of workers assigned to the tenant has first been reduced to 0. The superadmin tenant may not be deleted.</p>
<p>When the superadmin deletes a tenant, all providers, services, hardware types, image types, cluster templates, plugin resources, and
clusters are removed from the system. Any jobs that are in progress in the tenant are aborted, though tasks that are currently in progress
may continue running until they complete. Clusters and nodes created by the tenant will not actually be deleted from the providers used
to create them, they will just be removed from the system database keeping track of the clusters and nodes. It is the responsibility of the
tenant administrator to delete any nodes that are no longer needed. For example, if a tenant has 10 nodes running in AWS, when the superadmin
deletes the tenant, those 10 nodes will still be running in AWS. They will just no longer be managed through the system.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><!--
  Copyright © 2014-2015 Cask Data, Inc.

  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License. You may obtain a copy of
  the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
-->


    
<div aria-label="globaltoc links">
<h3 class="pagenavtitle"><a href="../../index.html"> Table&nbsp;of&nbsp;Contents</a></h3>
<nav class="pagenav">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Super Admin Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Tenant Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-tenant">Creating a Tenant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edit-a-tenant">Edit a Tenant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deleting-a-tenant">Deleting a Tenant</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="callbacks.html">Cluster Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Provisioner Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Monitoring and Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bcp/index.html">Business Continuity Plan (BCP)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rest/index.html">Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implementation.html">Under the Hood</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../javadocs/index.html">Javadocs</a></li>
</ul>

</nav>
</div>
  <h4>Previous Topic</h4>
  <p class="topless"><a href="overview.html"
                        title="Previous Chapter">Overview</a></p>
  <h4>Next Topic</h4>
  <p class="topless"><a href="callbacks.html"
                        title="Next Chapter">Cluster Callbacks</a></p>
  <div role="note" aria-label="downloads links">
    <h3>Downloads</h3>
    <ul class="this-page-menu">
      <li><a href="http://docs.cask.co/coopr/0.9.9/coopr-docs-0.9.9-web.zip"
            rel="nofollow">Zip Archive of Coopr Documentation</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick Search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">

<style type="text/css">
.tg  {border-collapse:collapse;border-spacing:0;margin:0px auto;}
.tg td{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg th{padding:0px 20px 0px 20px;border-width:0px;overflow:hidden;word-break:normal;font-weight:normal;}
.tg .tg-s6z2{text-align:center;}
.tg .tg-0ord{text-align:right;}
.tg a{font-weight:bold;}
</style>
<table class="tg" width= 100%>
  <tr>
    <th class="tg-031e">Previous Topic: 
    <a title="Overview" href="overview.html" />Overview</a>&nbsp;&nbsp;
    
    </th>
    <th class="tg-s6z2">
        Copyright &copy; 2014-2016 Cask Data, Inc.
    
    </th>
    <th class="tg-0ord">&nbsp;&nbsp;Next Topic:
    <a title="Cluster Callbacks" href="callbacks.html" />Cluster Callbacks</a>
    
    </th>
  </tr>
</table>

    </div>
  </body>
</html>